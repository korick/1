https://github.com/korick/CDDA/raw/master/transifex.com/06_translate_offline.txt




Перевод оффлайн. Работает.
- зайти в проект cataclysm подключиться к группе переводчиков. Выбрать русский язык.
transifex.com/cataclysm-dda-translators/cataclysm-dda
transifex.com/cataclysm-dda-translators/cataclysm-dda/language/ru
- выбрать ресурс master-cataclysm-dda
- скачать: download: вариант для использования, для редактирования - варианты разные, файлы одинаковые.
- загрузить: upload: переведенный файл оффлайн.
- вопросы задавать тут https://discourse.cataclysmdda.org/t/topic/1584

for_translation_cataclysm-dda_master-cataclysm-dda_ru.po - для краткости будем называть как ресурс master-cataclysm-dda.po это текстовый файл с расширением .po, кодировка UTF-8 без BOM, конец строки CR LF.
Онлайн перевод - перевод этого текстового файла онлайн на сервере transifex. Удобный графический интерфейс (UI).
Оффлайн перевод - перевод без интернета. Рекомендуется переводить только строки без перевода. Заранее договоренную часть, тк мб наложение с уже переведенными строками онлайн ранее.

Чем переводить:
не использовать Poedit (?) - редактор для локализации pot-po-mo файлов, изменяет файл, ломает структуру строк. Использовать только для просмотра, поиска строк, контекста (оффлайн поиск строк быстрее). Проверить!
В 2018 шаблон pot-файла перешел на новый форматируемый стиль, уже совместимый с Poedit. Проверить!
использовать BetterPoEditor - редактор для локализации pot-po-mo файлов (2013), не изменяет оригинальный файл
использовать Notepad++ - текстовый редактор
использовать Lingvo - платформа лексической базы, перевод слова, словосочетаний
использовать PROMT - платформа машинного перевода

Вариант перевода:
- ищем непереведенные строки в Poedit, BetterPoEditor
- копируем англ. строку в Notepad++
- переводим на русский чуть ниже
- проверяем перевод

Собираем .po файл:
- открываем master-cataclysm-dda.po в Notepad++
- ищем англ. строку которую перевели, копируем ее блок-структуру в новый текстовый файл сразу же в Notepad++
- вставляем русский перевод в блок-структуру
- добавляем заголовок
- сохраняем полученный новый текстовый файл, меняем расширение .txt на .po
- загружаем .po файл в проект, откуда скачивали файл. Загрузка идет без ошибок
- проверяем загрузку строк (выбираем какую-нибудь строку и проверяем ее перевод)

Не проверено!
Что произойдет если сохранить сразу целый файл перевода .po напрямую через BetterPoEditor или Poedit с измененным форматированием оригинальных английских строк. Поэтому и использую сборку файла перевода вручную. Тк можно необратимо повредить весь перевод

Раз в неделю обновляется файл-шаблон .pot на сервере transifex. Если в англ. строке оригинале изменилась хоть 1 буква или пробел - перевод строки пропадает. В этом случае помогает БД накопленных переводов онлайн и оффлайн (Poedit).
Перевод односторонний - если нашли ошибку в англ. строке, изменить оригинал нельзя, но переводить правильно нужно все равно.
Ошибки исправляются открытием нового issue на github
https://github.com/CleverRaven/Cataclysm-DDA/issues






ПРИМЕР ФАЙЛА .PO: 07_translate_offline_sample.po
1. ЗАГОЛОВОК
2. СТРУКТУРА АНГЛ. СТРОКИ
3. СТРУКТУРА ДОБАВЛЕННОГО РУССКОГО ПЕРЕВОДА
Вот это ниже и есть новый текстовый .po файл с переведенной строкой "EMP Projector CBM"

msgid ""
msgstr ""
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"


#: lang/json/BIONIC_ITEM_from_json.py
msgid "EMP Projector CBM"
msgid_plural "EMP Projector CBMs"
msgstr[0] "КБМ: ЭМИ излучатель"
msgstr[1] "КБМ: ЭМИ излучатель"
msgstr[2] "КБМ: ЭМИ излучатель"
msgstr[3] "КБМ: ЭМИ излучатель"

#. ~ Description for EMP Projector CBM
#. ~ Description for EMP Projector
#: lang/json/BIONIC_ITEM_from_json.py lang/json/bionic_from_json.py
#: lang/json/gun_from_json.py
msgid ""
"A ranged emp generator system is implanted on the palm of the user's right "
"hand and arm.  Fires super-concentrated electric pulses for a short "
"distance.  Extremely effective against electronic targets but mostly useless"
" otherwise."
msgstr "Система генерации электромагнитного импульса дальнего действия, имплантированная в ладонь правой руки пользователя. Излучает мощный сфокусированный электромагнитный импульс на короткую дистанцию. Особенно эффективен против электронных противников, но бесполезен против остальных."









































